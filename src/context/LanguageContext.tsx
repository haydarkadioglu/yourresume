
"use client";

import { createContext, useContext, useState, ReactNode, useCallback } from "react";

const translations = {
  en: {
    home: "Home",
    contact: "Contact",
    login: "Log In",
    dashboard: "Dashboard",
    viewMyCV: "View My CV",
    logout: "Log Out",
    content: "Content",
    appearance: "Appearance",
    settings: "Settings",
    personalInfo: "Personal Information",
    personalInfoDesc: "This information will appear at the top of your resume.",
    username: "Username",
    usernameDesc: "URL: /cv/{username}",
    fullName: "Full Name",
    title: "Title",
    email: "Email",
    phone: "Phone",
    website: "Website",
    linkedin: "LinkedIn",
    github: "GitHub",
    summary: "Summary",
    saveSection: "Save Section",
    saving: "Saving...",
    skills: "Skills",
    skillsDesc: "List your technical and professional skills, separated by commas.",
    experience: "Work Experience",
    experienceDesc: "Detail your professional history.",
    addExperience: "Add Experience",
    company: "Company",
    location: "Location",
    startDateEndDate: "Start - End Date",
    description: "Description",
    education: "Education",
    educationDesc: "List your academic background.",
    addEducation: "Add Education",
    degree: "Degree",
    institution: "Institution",
    projects: "Projects",
    projectsDesc: "Showcase your work.",
    addProject: "Add Project",
    projectName: "Project Name",
    url: "URL",
    tags: "Tags (comma-separated)",
    certifications: "Certifications",
    certificationsDesc: "List your certifications.",
    addCertification: "Add Certification",
    certificationName: "Certificate Name",
    issuer: "Issuer",
    date: "Date",
    templateSelection: "Template Selection",
    templateSelectionDesc: "Choose a template for your resume.",
    saveAppearance: "Save Appearance",
    classic: "Classic",
    modern: "Modern",
    minimalist: "Minimalist",
    twoColumn: "Create Your Own",
    passwordChange: "Password Change",
    passwordChangeDesc: "Update your password here. You will be logged out after a successful change.",
    newPassword: "New Password",
    confirmNewPassword: "Confirm New Password",
    updatePassword: "Update Password",
    passwordsDoNotMatch: "Passwords do not match.",
    passwordUpdated: "Password updated successfully. Please log in again.",
    passwordUpdateError: "Password Update Error",
    sectionSaved: "{section} Saved",
    sectionSavedDesc: "Your information has been successfully updated.",
    saveError: "Save Error",
    usernameTaken: "This username is already taken.",
    getInTouch: "Get in Touch",
    getInTouchDesc: "Feel free to reach out for any questions, suggestions, or collaboration proposals.",
    contactInfoTitle: "Contact Information",
    privacy: "Privacy",
    terms: "Terms",
    welcomeBack: "Welcome Back",
    welcomeBackDesc: "Enter your credentials to access your account.",
    password: "Password",
    loggingIn: "Logging in...",
    loginFailed: "Login Failed",
    loginFailedDesc: "Invalid credentials. Please try again.",
    loginSuccess: "Login Successful",
    loginSuccessDesc: "Welcome back! Redirecting you to the dashboard.",
    backToHome: "Back to Home",
    heroTitle: "Craft Your Professional Story",
    heroSubtitle: "Build a stunning, ATS-friendly resume in minutes. Our intuitive editor helps you highlight your skills and experience to land your dream job.",
    heroCtaStart: "Get Started Now",
    heroCtaSample: "View Sample CV",
    featuresTag: "Key Features",
    featuresTitle: "Designed for Success",
    featuresSubtitle: "Everything you need to create a resume that stands out to recruiters and hiring managers.",
    feature1Title: "Intuitive Editor",
    feature1Desc: "Easily input your personal info, experience, education, and skills with our guided forms.",
    feature2Title: "ATS-Friendly",
    feature2Desc: "Our templates are optimized for applicant tracking systems, ensuring your resume gets seen.",
    feature3Title: "PDF Download",
    feature3Desc: "Download a pixel-perfect PDF of your resume to share with potential employers.",
    footerCopyright: "Â© {currentYear} YourResume. All rights reserved.",
    register: "Register",
    registerTitle: "Create an Account",
    registerDesc: "Enter your details to create a new account.",
    haveAccount: "Already have an account?",
    dontHaveAccount: "Don't have an account?",
    signUpWithGoogle: "Sign up with Google",
    signInWithGoogle: "Sign in with Google",
    orContinueWith: "Or continue with",
    registrationSuccess: "Registration Successful",
    registrationSuccessDesc: "Your account has been created. Redirecting...",
    registrationFailed: "Registration Failed",
    appearanceManager: "Appearance Manager",
    appearanceManagerDesc: "Manage your CV's layout and template from here.",
    baseTemplate: "Base Template",
    modernTemplateWarning: "The 2-column structure of the Modern template is fixed, so section placement cannot be customized in this template.",
    layoutEditor: "Layout Editor",
    layoutEditorDesc: "Customize the structure of your two-column resume.",
    backToDashboard: "Back to Dashboard",
    saveLayout: "Save Layout",
    mainContent: "Main Content",
    sidebar: "Sidebar",
    mainContentEmpty: "Add sections to the main content area.",
    sidebarEmpty: "Add sections to the sidebar.",
    doubleClickToEdit: "Double-click to edit layout.",
    layoutEditorTitleV2: "ðŸ› ï¸ Design Your Resume Freely!",
    layoutEditorDescV3: "You're in full control of your resume layout. Want a clean single-column layout? Simply move all sections to the Main Content area. Prefer a two-column professional style? Split your sections between the main area and sidebar.",
    whatYouCanDo: "What you can do:",
    rearrangeSections: "Rearrange sections using the arrow buttons.",
    chooseLayout: "Create single or two-column layouts.",
    instantPreview: "See an instant preview of your changes on your CV page.",
    likeCanva: "ðŸŽ¨ Itâ€™s like designing your CV: Flexible, visual, and personal.",
    saveReminder: "âœ… When you're done customizing, don't forget to click Save Layout!",
  },
  tr: {
    home: "Anasayfa",
    contact: "Ä°letiÅŸim",
    login: "GiriÅŸ Yap",
    dashboard: "Pano",
    viewMyCV: "CV'mi GÃ¶rÃ¼ntÃ¼le",
    logout: "Ã‡Ä±kÄ±ÅŸ Yap",
    content: "Ä°Ã§erik",
    appearance: "GÃ¶rÃ¼nÃ¼m",
    settings: "Ayarlar",
    personalInfo: "KiÅŸisel Bilgiler",
    personalInfoDesc: "Bu bilgiler Ã¶zgeÃ§miÅŸinizin en Ã¼stÃ¼nde gÃ¶rÃ¼necektir.",
    username: "KullanÄ±cÄ± AdÄ±",
    usernameDesc: "URL: /cv/{username}",
    fullName: "Ad Soyad",
    title: "Unvan",
    email: "E-posta",
    phone: "Telefon",
    website: "Web Sitesi",
    linkedin: "LinkedIn",
    github: "GitHub",
    summary: "Ã–zet",
    saveSection: "BÃ¶lÃ¼mÃ¼ Kaydet",
    saving: "Kaydediliyor...",
    skills: "Yetenekler",
    skillsDesc: "Teknik ve profesyonel yeteneklerinizi virgÃ¼lle ayÄ±rarak listeleyin.",
    experience: "Ä°ÅŸ Deneyimi",
    experienceDesc: "Profesyonel geÃ§miÅŸinizi detaylandÄ±rÄ±n.",
    addExperience: "Deneyim Ekle",
    company: "Åžirket",
    location: "Konum",
    startDateEndDate: "BaÅŸlangÄ±Ã§ - BitiÅŸ Tarihi",
    description: "AÃ§Ä±klama",
    education: "EÄŸitim",
    educationDesc: "Akademik geÃ§miÅŸinizi listeleyin.",
    addEducation: "EÄŸitim Ekle",
    degree: "BÃ¶lÃ¼m",
    institution: "Kurum",
    projects: "Projeler",
    projectsDesc: "Ã‡alÄ±ÅŸmalarÄ±nÄ±zÄ± sergileyin.",
    addProject: "Proje Ekle",
    projectName: "Proje AdÄ±",
    url: "URL",
    tags: "Etiketler (virgÃ¼lle ayÄ±rÄ±n)",
    certifications: "Sertifikalar",
    certificationsDesc: "Sahip olduÄŸunuz sertifikalarÄ± listeleyin.",
    addCertification: "Sertifika Ekle",
    certificationName: "Sertifika AdÄ±",
    issuer: "Veren Kurum",
    date: "Tarih",
    templateSelection: "Åžablon SeÃ§imi",
    templateSelectionDesc: "Ã–zgeÃ§miÅŸiniz iÃ§in bir ÅŸablon seÃ§in.",
    saveAppearance: "GÃ¶rÃ¼nÃ¼mÃ¼ Kaydet",
    classic: "Klasik",
    modern: "Modern",
    minimalist: "Minimalist",
    twoColumn: "Kendin OluÅŸtur",
    passwordChange: "Åžifre DeÄŸiÅŸtirme",
    passwordChangeDesc: "Åžifrenizi buradan gÃ¼ncelleyin. BaÅŸarÄ±lÄ± bir deÄŸiÅŸiklikten sonra Ã§Ä±kÄ±ÅŸ yapÄ±lacaktÄ±r.",
    newPassword: "Yeni Åžifre",
    confirmNewPassword: "Yeni Åžifreyi Onayla",
    updatePassword: "Åžifreyi GÃ¼ncelle",
    passwordsDoNotMatch: "Åžifreler eÅŸleÅŸmiyor.",
    passwordUpdated: "Åžifre baÅŸarÄ±yla gÃ¼ncellendi. LÃ¼tfen tekrar giriÅŸ yapÄ±n.",
    passwordUpdateError: "Åžifre GÃ¼ncelleme HatasÄ±",
    sectionSaved: "{section} Kaydedildi",
    sectionSavedDesc: "Bilgileriniz baÅŸarÄ±yla gÃ¼ncellendi.",
    saveError: "Kaydetme HatasÄ±",
    usernameTaken: "Bu kullanÄ±cÄ± adÄ± zaten alÄ±nmÄ±ÅŸ.",
    getInTouch: "Ä°letiÅŸime GeÃ§in",
    getInTouchDesc: "SorularÄ±nÄ±z, Ã¶nerileriniz veya iÅŸbirliÄŸi teklifleriniz iÃ§in bize ulaÅŸmaktan Ã§ekinmeyin.",
    contactInfoTitle: "Ä°letiÅŸim Bilgileri",
    privacy: "Gizlilik",
    terms: "KoÅŸullar",
    welcomeBack: "Tekrar HoÅŸ Geldiniz",
    welcomeBackDesc: "HesabÄ±nÄ±za eriÅŸmek iÃ§in bilgilerinizi girin.",
    password: "Åžifre",
    loggingIn: "GiriÅŸ yapÄ±lÄ±yor...",
    loginFailed: "GiriÅŸ BaÅŸarÄ±sÄ±z",
    loginFailedDesc: "GeÃ§ersiz kimlik bilgileri. LÃ¼tfen tekrar deneyin.",
    loginSuccess: "GiriÅŸ BaÅŸarÄ±lÄ±",
    loginSuccessDesc: "Tekrar hoÅŸ geldiniz! Panoya yÃ¶nlendiriliyorsunuz.",
    backToHome: "Anasayfaya DÃ¶n",
    heroTitle: "Profesyonel Hikayenizi YaratÄ±n",
    heroSubtitle: "Dakikalar iÃ§inde gÃ¶z alÄ±cÄ±, ATS uyumlu bir Ã¶zgeÃ§miÅŸ oluÅŸturun. Sezgisel dÃ¼zenleyicimiz, hayalinizdeki iÅŸi bulmanÄ±z iÃ§in becerilerinizi ve deneyiminizi vurgulamanÄ±za yardÄ±mcÄ± olur.",
    heroCtaStart: "Hemen BaÅŸlayÄ±n",
    heroCtaSample: "Ã–rnek CV'yi GÃ¶rÃ¼ntÃ¼le",
    featuresTag: "Ana Ã–zellikler",
    featuresTitle: "BaÅŸarÄ± Ä°Ã§in TasarlandÄ±",
    featuresSubtitle: "Ä°ÅŸe alÄ±mcÄ±larÄ±n ve yÃ¶neticilerin dikkatini Ã§eken bir Ã¶zgeÃ§miÅŸ oluÅŸturmak iÃ§in ihtiyacÄ±nÄ±z olan her ÅŸey.",
    feature1Title: "Sezgisel DÃ¼zenleyici",
    feature1Desc: "KiÅŸisel bilgilerinizi, deneyiminizi, eÄŸitiminizi ve becerilerinizi rehberli formlarÄ±mÄ±zla kolayca girin.",
    feature2Title: "ATS Uyumlu",
    feature2Desc: "ÅžablonlarÄ±mÄ±z, baÅŸvuru takip sistemleri iÃ§in optimize edilmiÅŸtir ve Ã¶zgeÃ§miÅŸinizin gÃ¶rÃ¼lmesini saÄŸlar.",
    feature3Title: "PDF Ä°ndirme",
    feature3Desc: "Potansiyel iÅŸverenlerle paylaÅŸmak iÃ§in Ã¶zgeÃ§miÅŸinizin piksel mÃ¼kemmelliÄŸinde bir PDF'ini indirin.",
    footerCopyright: "Â© {currentYear} YourResume. TÃ¼m haklarÄ± saklÄ±dÄ±r.",
    register: "KayÄ±t Ol",
    registerTitle: "Hesap OluÅŸtur",
    registerDesc: "Yeni bir hesap oluÅŸturmak iÃ§in bilgilerinizi girin.",
    haveAccount: "Zaten bir hesabÄ±nÄ±z var mÄ±?",
    dontHaveAccount: "HesabÄ±nÄ±z yok mu?",
    signUpWithGoogle: "Google ile Kaydol",
    signInWithGoogle: "Google ile GiriÅŸ Yap",
    orContinueWith: "Veya ÅŸununla devam et",
    registrationSuccess: "KayÄ±t BaÅŸarÄ±lÄ±",
    registrationSuccessDesc: "HesabÄ±nÄ±z oluÅŸturuldu. YÃ¶nlendiriliyor...",
    registrationFailed: "KayÄ±t BaÅŸarÄ±sÄ±z",
    appearanceManager: "GÃ¶rÃ¼nÃ¼m YÃ¶neticisi",
    appearanceManagerDesc: "CV'nizin dÃ¼zenini ve ÅŸablonunu buradan yÃ¶netin.",
    baseTemplate: "Temel Åžablon",
    modernTemplateWarning: "Modern ÅŸablonun 2 sÃ¼tunlu yapÄ±sÄ± sabittir, bu nedenle bÃ¶lÃ¼m yerleÅŸimi bu ÅŸablonda Ã¶zelleÅŸtirilemez.",
    layoutEditor: "YerleÅŸim DÃ¼zeni EditÃ¶rÃ¼",
    layoutEditorDesc: "Ä°ki sÃ¼tunlu Ã¶zgeÃ§miÅŸinizin yapÄ±sÄ±nÄ± Ã¶zelleÅŸtirin.",
    backToDashboard: "Panoya Geri DÃ¶n",
    saveLayout: "DÃ¼zeni Kaydet",
    mainContent: "Ana Ä°Ã§erik",
    sidebar: "Kenar Ã‡ubuÄŸu",
    mainContentEmpty: "Ana iÃ§erik alanÄ±na bÃ¶lÃ¼m ekleyin.",
    sidebarEmpty: "Kenar Ã§ubuÄŸuna bÃ¶lÃ¼m ekleyin.",
    doubleClickToEdit: "DÃ¼zeni dÃ¼zenlemek iÃ§in Ã§ift tÄ±klayÄ±n.",
    layoutEditorTitleV2: "ðŸ› ï¸ Ã–zgeÃ§miÅŸini Ã–zgÃ¼rce Tasarla!",
    layoutEditorDescV3: "Ã–zgeÃ§miÅŸ dÃ¼zenin tamamen senin kontrolÃ¼nde. Sade, tek sÃ¼tunlu bir dÃ¼zen mi istiyorsun? TÃ¼m bÃ¶lÃ¼mleri Ana Ä°Ã§erik alanÄ±na taÅŸÄ±. Profesyonel, iki sÃ¼tunlu bir stil mi tercih ediyorsun? BÃ¶lÃ¼mlerini ana alan ve kenar Ã§ubuÄŸu arasÄ±nda bÃ¶l.",
    whatYouCanDo: "Neler yapabilirsin:",
    rearrangeSections: "Ok dÃ¼ÄŸmelerini kullanarak bÃ¶lÃ¼mleri yeniden dÃ¼zenle.",
    chooseLayout: "Tek veya iki sÃ¼tunlu dÃ¼zenler oluÅŸtur.",
    instantPreview: "YaptÄ±ÄŸÄ±n deÄŸiÅŸikliklerin Ã¶nizlemesini CV sayfanÄ±zda anÄ±nda gÃ¶r.",
    likeCanva: "ðŸŽ¨ TÄ±pkÄ± kendi CV'ni tasarlamak gibi: Esnek, gÃ¶rsel ve kiÅŸisel.",
    saveReminder: "âœ… Ã–zelleÅŸtirmeyi bitirdiÄŸinde, DÃ¼zeni Kaydet'e tÄ±klamayÄ± unutma!",
  },
};

type Language = keyof typeof translations;
type TranslationKeys = keyof typeof translations['en'];

interface LanguageContextType {
  language: Language;
  setLanguage: (language: Language) => void;
  t: (key: TranslationKeys, params?: { [key: string]: string }) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider = ({ children }: { children: ReactNode }) => {
  const [language, setLanguage] = useState<Language>("en");

  const t = useCallback((key: TranslationKeys, params?: { [key: string]: string }) => {
    let translation = translations[language][key] || translations['en'][key];
    if (params) {
      for (const paramKey in params) {
        translation = translation.replace(`{${paramKey}}`, params[paramKey]);
      }
    }
    return translation;
  }, [language]);

  const value = { language, setLanguage, t };

  return (
    <LanguageContext.Provider value={value}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error("useLanguage must be used within a LanguageProvider");
  }
  return context;
};
